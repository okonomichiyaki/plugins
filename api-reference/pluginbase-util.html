<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>PluginBase.util | LipSurf Plugin Developer Documentation</title>
    <meta name="generator" content="VuePress 1.6.0">
    
    <meta name="description" content="Documentation for developers looking to extend LipSurf using the official API. Create voice commands and shortcuts for the browser.">
    <link rel="preload" href="/assets/css/0.styles.8c9187ac.css" as="style"><link rel="preload" href="/assets/js/app.31a506d3.js" as="script"><link rel="preload" href="/assets/js/3.c7b5409f.js" as="script"><link rel="preload" href="/assets/js/15.7b9d69f6.js" as="script"><link rel="prefetch" href="/assets/js/10.e6fc54fb.js"><link rel="prefetch" href="/assets/js/11.54146e2c.js"><link rel="prefetch" href="/assets/js/12.8e55b08a.js"><link rel="prefetch" href="/assets/js/13.da048a74.js"><link rel="prefetch" href="/assets/js/14.5830d13a.js"><link rel="prefetch" href="/assets/js/16.914c33a8.js"><link rel="prefetch" href="/assets/js/17.6da71c3d.js"><link rel="prefetch" href="/assets/js/18.0aab84d8.js"><link rel="prefetch" href="/assets/js/19.577e2dc9.js"><link rel="prefetch" href="/assets/js/20.a357f736.js"><link rel="prefetch" href="/assets/js/21.be6b56ea.js"><link rel="prefetch" href="/assets/js/22.b50900e7.js"><link rel="prefetch" href="/assets/js/23.74b5c641.js"><link rel="prefetch" href="/assets/js/24.6b982306.js"><link rel="prefetch" href="/assets/js/25.d43436aa.js"><link rel="prefetch" href="/assets/js/4.e2a48551.js"><link rel="prefetch" href="/assets/js/5.27175400.js"><link rel="prefetch" href="/assets/js/6.45a2d2e8.js"><link rel="prefetch" href="/assets/js/7.198e0538.js"><link rel="prefetch" href="/assets/js/8.db16cae3.js"><link rel="prefetch" href="/assets/js/9.2a9d54f3.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.c6292dad.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8c9187ac.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/icon-128.png" alt="LipSurf Plugin Developer Documentation" class="logo"> <span class="site-name can-hide">LipSurf Plugin Developer Documentation</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"> <a href="https://github.com/lipsurf/plugins" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"> <a href="https://github.com/lipsurf/plugins" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Basics</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/" aria-current="page" class="sidebar-link">Overview</a></li><li><a href="/quick-start.html" class="sidebar-link">5 Minute Quick Start</a></li><li><a href="/architecture.html" class="sidebar-link">Architecture</a></li><li><a href="/glossary.html" class="sidebar-link">Glossary</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Advanced</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dynamic-matching.html" class="sidebar-link">Match Patterns</a></li><li><a href="/contexts.html" class="sidebar-link">Contexts</a></li><li><a href="/langs.html" class="sidebar-link">Internationalization</a></li><li><a href="/plugin-level-settings.html" class="sidebar-link">Plugin-level Settings</a></li><li><a href="/testing.html" class="sidebar-link">Testing</a></li><li><a href="/recipes.html" class="sidebar-link">Recipes</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Support</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/help.html" class="sidebar-link">Get Help</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>API Reference</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/api-reference/plugin.html" class="sidebar-link">Plugin</a></li><li><a href="/api-reference/command.html" class="sidebar-link">Commands</a></li><li><a href="/api-reference/pluginbase-util.html" aria-current="page" class="active sidebar-link">PluginBase.util</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/api-reference/test.html" class="sidebar-link">Test</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Enterprise</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/api-reference/customstt.html" class="sidebar-link">Custom STT API</a></li><li><a href="/api-reference/script.html" class="sidebar-link">LipSurf.js</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="pluginbase-util"><a href="#pluginbase-util" class="header-anchor">#</a> PluginBase.util</h1> <p>The following API exists on <code>PluginBase.util</code> for interacting with the extension and convenience. It can be used within plugins - some utilities are only available in the context of the page (will only work in <a href="#init"><code>init</code></a>, <a href="#destroy"><code>destroy</code></a>, <a href="/command.html#pagefn"><code>commands::pageFn</code></a>) others only in the context of the extension (<a href="/command.html#fn"><code>fn</code></a>).</p> <hr> <h3 id="shutdown"><a href="#shutdown" class="header-anchor">#</a> shutdown</h3> <ul><li>Arguments:
<ul><li>None</li></ul></li> <li>Returns: <code>void</code></li></ul> <h3 id="pause"><a href="#pause" class="header-anchor">#</a> pause</h3> <ul><li>Arguments:
<ul><li>None</li></ul></li> <li>Returns: <code>void</code></li></ul> <p>Pauses the speech recognizer, but leaves plugins and HUD un-destroyed. Shows a pause icon in the corner of the extension.</p> <h3 id="start"><a href="#start" class="header-anchor">#</a> start</h3> <ul><li>Arguments:
<ul><li>None</li></ul></li> <li>Returns: <code>void</code></li></ul> <hr> <h3 id="getlanguage"><a href="#getlanguage" class="header-anchor">#</a> getLanguage</h3> <ul><li>Arguments:
<ul><li>None</li></ul></li> <li>Returns: <code>LanguageCode</code></li></ul> <h3 id="setlanguage"><a href="#setlanguage" class="header-anchor">#</a> setLanguage</h3> <ul><li>Arguments:
<ul><li><code>lang: LanguageCode</code></li></ul></li> <li>Returns: <code>void</code></li></ul> <hr> <h3 id="entercontext"><a href="#entercontext" class="header-anchor">#</a> enterContext</h3> <ul><li>Arguments:
<ul><li><code>contexts: string[]</code></li></ul></li> <li>Returns: <code>void</code></li></ul> <p>Modifies the context to be exactly what is specified in the argument. The order here matters (commands with a context earlier in the list get priority).</p> <p>Also see: <a href="/contexts.html">Contexts</a>.</p> <h3 id="addcontext"><a href="#addcontext" class="header-anchor">#</a> addContext</h3> <ul><li>Arguments:
<ul><li><code>contexts: string | string[]</code></li></ul></li> <li>Returns: <code>void</code></li></ul> <p>Add a context to the existing active contexts for this page.</p> <p>Also see: <a href="/contexts.html">Contexts</a>.</p> <h3 id="removecontext"><a href="#removecontext" class="header-anchor">#</a> removeContext</h3> <ul><li>Arguments:
<ul><li><code>contexts: string | string[]</code></li></ul></li> <li>Returns: <code>void</code></li></ul> <p>Removes a context from the active contexts for this page.</p> <p>Also see: <a href="/contexts.html">Contexts</a>.</p> <h3 id="getcontext"><a href="#getcontext" class="header-anchor">#</a> getContext</h3> <ul><li>Arguments:
<ul><li>None</li></ul></li> <li>Returns: <code>string[]</code></li></ul> <p>Gets the contexts that we're in on the current page.</p> <p>Also see: <a href="/contexts.html">Contexts</a>.</p> <hr> <h3 id="queryallframes"><a href="#queryallframes" class="header-anchor">#</a> queryAllFrames</h3> <ul><li>Arguments:
<ul><li><code>query: string</code></li> <li><code>attrs?: string | string[]</code></li> <li><code>props?: string | string[]</code></li> <li><code>specialProps?: SpecialProp[]</code></li></ul></li> <li>Returns: <code>Promise&lt;string, ...any[]&gt;</code></li></ul> <p>Query all frames includes IFrames.</p> <h3 id="posttoallframes"><a href="#posttoallframes" class="header-anchor">#</a> postToAllFrames</h3> <ul><li>Arguments:
<ul><li><code>ids?: string | string[]</code></li> <li><code>fnNames?: string | string[]</code></li> <li><code>selector?</code></li> <li><code>specialFns?: SpecialFn | SpecialFn[]</code></li></ul></li> <li>Returns: <code>void</code></li></ul> <hr> <h3 id="pick"><a href="#pick" class="header-anchor">#</a> pick</h3> <ul><li>Arguments:
<ul><li><code>obj: object</code></li> <li><code>...props: string[]</code></li></ul></li> <li>Returns: <code>object</code></li></ul> <h3 id="deepsetarray"><a href="#deepsetarray" class="header-anchor">#</a> deepSetArray</h3> <ul><li>Arguments:
<ul><li><code>obj: object</code></li> <li><code>keys: string[]</code></li> <li><code>value: any</code></li></ul></li> <li>Returns: <code>object</code></li></ul> <h3 id="memoize"><a href="#memoize" class="header-anchor">#</a> memoize</h3> <ul><li>Arguments:
<ul><li><code>...any[]</code></li></ul></li> <li>Returns: <code>any</code></li></ul> <hr> <h3 id="fuzzyhighscore"><a href="#fuzzyhighscore" class="header-anchor">#</a> fuzzyHighScore</h3> <ul><li>Arguments:
<ul><li><code>query: string</code></li> <li><code>sources: string[]</code></li> <li><code>minScore?: number</code></li> <li><code>partial?: boolean</code></li> <li><code>skipCanonicalizing?: boolean</code></li></ul></li> <li>Returns: <code>Promise&lt;[idx: number, score: number]&gt;</code></li></ul> <h3 id="topfuzzyelmatches"><a href="#topfuzzyelmatches" class="header-anchor">#</a> topFuzzyElMatches<T></T></h3> <ul><li>Arguments:
<ul><li><code>query: string</code></li> <li><code>itemWTextColl: {item: T, text: string[]}[]</code></li> <li><code>minScore?: number</code></li></ul></li> <li>Returns: <code>Promise&lt;T[]&gt;</code></li></ul> <p><code>T</code> is <code>any</code>. It is the type of the returned items that have a score greater than minScore.</p> <hr> <h3 id="highlight"><a href="#highlight" class="header-anchor">#</a> highlight</h3> <ul><li>Arguments:
<ul><li><code>...els: HTMLElement[]</code></li></ul></li> <li>Returns: <code>void</code></li></ul> <h3 id="unhighlightall"><a href="#unhighlightall" class="header-anchor">#</a> unhighlightAll</h3> <ul><li>Arguments:
<ul><li>None</li></ul></li> <li>Returns: <code>void</code></li></ul> <hr> <h3 id="disambiguate"><a href="#disambiguate" class="header-anchor">#</a> disambiguate</h3> <ul><li>Arguments:
<ul><li><code>els: HTMLElement[] | FrameElWOffsets[]</code></li></ul></li> <li>Returns: <code>Promise&lt;[number, Promise&lt;void&gt;]&gt;</code></li></ul> <hr> <h3 id="clickorfocus"><a href="#clickorfocus" class="header-anchor">#</a> clickOrFocus</h3> <ul><li>Arguments:
<ul><li><code>el: HTMLElement</code></li></ul></li> <li>Returns: <code>void</code></li></ul> <p>Intelligently &quot;clicks&quot; an element depending on the element type.</p> <h3 id="isinviewandtakesspace"><a href="#isinviewandtakesspace" class="header-anchor">#</a> isInViewAndTakesSpace</h3> <ul><li>Arguments:
<ul><li><code>el: HTMLElement</code></li></ul></li> <li>Returns: <code>boolean</code></li></ul> <p>Checks if an element is in the viewport and takes up view space (not 0x0 pixels)</p> <h3 id="getrgb"><a href="#getrgb" class="header-anchor">#</a> getRGB</h3> <ul><li>Arguments:
<ul><li><code>colorHexOrRgbStr: string</code></li></ul></li> <li>Returns: <code>[red: number, green: number, blue: number]</code></li></ul> <p>Used for getting color from computed css.</p> <h3 id="getnocollisionuniqueattr"><a href="#getnocollisionuniqueattr" class="header-anchor">#</a> getNoCollisionUniqueAttr</h3> <ul><li>Arguments:
<ul><li>None</li></ul></li> <li>Returns: <code>string</code></li></ul> <p>Use the string returned from here to keep everything under the LipSurf namespace and prevent page pollution/plugin collisions.</p> <h3 id="getoptions"><a href="#getoptions" class="header-anchor">#</a> getOptions</h3> <ul><li>Arguments:
<ul><li>None</li></ul></li> <li>Returns: <code>Options</code></li></ul> <p>Get all the user-set options.</p> <div class="custom-block tip"><p class="custom-block-title">NOTE</p> <p>Used by the &quot;help&quot; command to get the list of commands and generate the help overlay.</p></div> <h3 id="gethudel"><a href="#gethudel" class="header-anchor">#</a> getHUDEl</h3> <ul><li>Arguments:
<ul><li><code>obscureTags: boolean</code></li></ul></li> <li>Returns: <code>Promise&lt;[hudEl: HTMLElement, hadToReattach: boolean]&gt;</code></li></ul> <p>Get the shadow DOM element used for most LipSurf HUD elements. The HUD will be automatically removed when LipSurf is deactivated so you don't need to clean it up yourself.</p> <h3 id="scrolltoanimated"><a href="#scrolltoanimated" class="header-anchor">#</a> scrollToAnimated</h3> <ul><li>Arguments:
<ul><li><code>el: HTMLElement</code></li> <li><code>offset?: number</code></li></ul></li> <li>Returns: <code>void</code></li></ul> <p>Smooth animated scroll to an element.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/lipsurf/plugins/edit/master/docs/api-reference/pluginbase-util.md" target="_blank" rel="noopener noreferrer">Improve this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last updated:</span> <span class="time">10/25/2020, 10:23:35 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/api-reference/command.html" class="prev">
        Commands
      </a></span> <span class="next"><a href="/api-reference/test.html">
        Test
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.31a506d3.js" defer></script><script src="/assets/js/3.c7b5409f.js" defer></script><script src="/assets/js/15.7b9d69f6.js" defer></script>
  </body>
</html>
